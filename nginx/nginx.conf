# Part 1: Event handling (minimal)
events {
    worker_connections 1024;  # How many connections nginx can handle
}

# Part 2: HTTP configuration
http {
    # Part 3: Admin site routing
    server {
        listen 80;  # Listen on port 80 (standard HTTP)
        server_name admin.yourdomain.com;  # Domain for admin
        
        location / {  # Handle all requests to this domain
            proxy_pass http://admin-frontend:80;  # Send to admin container
        }
    }
    
    # Part 4: Parker site routing  
    server {
        listen 80;  # Same port 80
        server_name parker.yourdomain.com;  # Different domain
        
        location / {
            proxy_pass http://parker-frontend:80;  # Send to parker container
        }
    }
    
       # ADD THIS: Testing block for localhost
    server {
        listen 80;
        server_name localhost;  # Direct local access
        
        location /admin/ {
            proxy_pass http://admin-frontend:80/;
        }
        
        location /parker/ {
            proxy_pass http://parker-frontend:80/;
        }
        
        location / {
            return 200 'Nginx is working! Try /admin/ or /parker/';
            add_header Content-Type text/plain;
        }
    }
}
